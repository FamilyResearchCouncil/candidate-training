version: '3.8'
services:
    app:
        env_file: ".env.$BRANCH_NAME"
        user: '1100'
        labels:
            traefik.enable: 'true'
            traefik.http.routers.candidate-training-staging.rule: Host(`staging.candidate-training.frc.org`)
            traefik.docker.network: traefik_default
        environment:
            - BRANCH_NAME
        networks:
            - traefik_default
            - default

networks:
    traefik_default:
        name: "$TRAEFIK_NETWORK"
        external: true